!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"function"==typeof define&&define.cmd?define(["jquery"],function(require,exports,o){e(require("jquery"))}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var o,t,r,i,n,s,l,a,c,d,u,h=!1,p=!1,m=0,g=2e3,f=0,$=e,w=["webkit","ms","moz","o"],v=window.requestAnimationFrame||!1,b=window.cancelAnimationFrame||!1;if(!v)for(o in w)if(t=w[o],v=window[t+"RequestAnimationFrame"]){b=window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"];break}r=window.MutationObserver||window.WebKitMutationObserver||!1,i={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var e=document.getElementsByTagName("script"),o=e.length?e[e.length-1].src.split("?")[0]:"";return o.split("/").length>0?o.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0,disablemutationobserver:!1},n=!1,s=function(){var e,o,t,i,s,l,a,c,d;if(n)return n;e=document.createElement("DIV"),o=e.style,t=navigator.userAgent,i=navigator.platform,s={},s.haspointerlock="pointerLockElement"in document||"webkitPointerLockElement"in document||"mozPointerLockElement"in document,s.isopera="opera"in window,s.isopera12=s.isopera&&"getUserMedia"in navigator,s.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),s.isie="all"in document&&"attachEvent"in e&&!s.isopera,s.isieold=s.isie&&!("msInterpolationMode"in o),s.isie7=s.isie&&!s.isieold&&(!("documentMode"in document)||7==document.documentMode),s.isie8=s.isie&&"documentMode"in document&&8==document.documentMode,s.isie9=s.isie&&"performance"in window&&9==document.documentMode,s.isie10=s.isie&&"performance"in window&&10==document.documentMode,s.isie11="msRequestFullscreen"in e&&document.documentMode>=11,s.isieedge12=navigator.userAgent.match(/Edge\/12\./),s.isieedge="msOverflowStyle"in e,s.ismodernie=s.isie11||s.isieedge,s.isie9mobile=/iemobile.9/i.test(t),s.isie9mobile&&(s.isie9=!1),s.isie7mobile=!s.isie9mobile&&s.isie7&&/iemobile/i.test(t),s.ismozilla="MozAppearance"in o,s.iswebkit="WebkitAppearance"in o,s.ischrome="chrome"in window,s.ischrome38=s.ischrome&&"touchAction"in o,s.ischrome22=!s.ischrome38&&s.ischrome&&s.haspointerlock,s.ischrome26=!s.ischrome38&&s.ischrome&&"transition"in o,s.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,s.hasw3ctouch=(window.PointerEvent||!1)&&(navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0),s.hasmstouch=!s.hasw3ctouch&&(window.MSPointerEvent||!1),s.ismac=/^mac$/i.test(i),s.isios=s.cantouch&&/iphone|ipad|ipod/i.test(i),s.isios4=s.isios&&!("seal"in Object),s.isios7=s.isios&&"webkitHidden"in document,s.isios8=s.isios&&"hidden"in document,s.isandroid=/android/i.test(t),s.haseventlistener="addEventListener"in e,s.trstyle=!1,s.hastransform=!1,s.hastranslate3d=!1,s.transitionstyle=!1,s.hastransition=!1,s.transitionend=!1,a=["transform","msTransform","webkitTransform","MozTransform","OTransform"];for(l=0;l<a.length;l++)if(void 0!==o[a[l]]){s.trstyle=a[l];break}for(s.hastransform=!!s.trstyle,s.hastransform&&(o[s.trstyle]="translate3d(1px,2px,3px)",s.hastranslate3d=/translate3d/.test(o[s.trstyle])),s.transitionstyle=!1,s.prefixstyle="",s.transitionend=!1,a=["transition","webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"],c=["","-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],d=["transitionend","webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"],l=0;l<a.length;l++)if(a[l]in o){s.transitionstyle=a[l],s.prefixstyle=c[l],s.transitionend=d[l];break}return s.ischrome26&&(s.prefixstyle=c[1]),s.hastransition=s.transitionstyle,s.cursorgrabvalue=function(){var e,t,r=["grab","-webkit-grab","-moz-grab"];for((s.ischrome&&!s.ischrome38||s.isie)&&(r=[]),e=0;e<r.length;e++)if(t=r[e],o.cursor=t,o.cursor==t)return t;return"url(//patriciaportfolio.googlecode.com/files/openhand.cur),n-resize"}(),s.hasmousecapture="setCapture"in e,s.hasMutationObserver=!1!==r,e=null,n=s,s},l=function(e,o){function t(){var e=M.doc.css(x.trstyle);return!(!e||"matrix"!=e.substr(0,6))&&e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function n(){var e,o=M.win;if("zIndex"in o)return o.zIndex();for(;o.length>0;){if(9==o[0].nodeType)return!1;if(e=o.css("zIndex"),!isNaN(e)&&0!=e)return parseInt(e);o=o.parent()}return!1}function l(e,o,t){var r,i=e.css(o),n=parseFloat(i);return isNaN(n)?(n=k[i]||0,r=3==n?t?M.win.outerHeight()-M.win.innerHeight():M.win.outerWidth()-M.win.innerWidth():1,M.isie8&&n&&(n+=1),r?n:0):n}function c(e,o,t,r){M._bind(e,o,function(r){var i;return r=r||window.event,i={original:r,target:r.target||r.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==r.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return r.preventDefault?r.preventDefault():r.returnValue=!1,!1},stopImmediatePropagation:function(){r.stopImmediatePropagation?r.stopImmediatePropagation():r.cancelBubble=!0}},"mousewheel"==o?(r.wheelDeltaX&&(i.deltaX=-.025*r.wheelDeltaX),r.wheelDeltaY&&(i.deltaY=-.025*r.wheelDeltaY),!i.deltaY&&!i.deltaX&&(i.deltaY=-.025*r.wheelDelta)):i.deltaY=r.detail,t.call(e,i)},r)}function d(e,o,t){var r,i;if(0==e.deltaMode?(r=-Math.floor(e.deltaX*(M.opt.mousescrollstep/54)),i=-Math.floor(e.deltaY*(M.opt.mousescrollstep/54))):1==e.deltaMode&&(r=-Math.floor(e.deltaX*M.opt.mousescrollstep),i=-Math.floor(e.deltaY*M.opt.mousescrollstep)),o&&M.opt.oneaxismousemode&&0==r&&i&&(r=i,i=0,t&&(r<0?M.getScrollLeft()>=M.page.maxw:M.getScrollLeft()<=0)&&(i=r,r=0)),M.isrtlmode&&(r=-r),r&&(M.scrollmom&&M.scrollmom.stop(),M.lastdeltax+=r,M.debounced("mousewheelx",function(){var e=M.lastdeltax;M.lastdeltax=0,M.rail.drag||M.doScrollLeftBy(e)},15)),i){if(M.opt.nativeparentscrolling&&t&&!M.ispage&&!M.zoomactive)if(i<0){if(M.getScrollTop()>=M.page.maxh)return!0}else if(M.getScrollTop()<=0)return!0;M.scrollmom&&M.scrollmom.stop(),M.lastdeltay+=i,M.synched("mousewheely",function(){var e=M.lastdeltay;M.lastdeltay=0,M.rail.drag||M.doScrollBy(e)},15)}return e.stopImmediatePropagation(),e.preventDefault()}var u,w,y,x,S,z,T,k,M=this;if(this.version="3.6.8",this.name="nicescroll",this.me=o,this.opt={doc:$("body"),win:!1},$.extend(this.opt,i),this.opt.snapbackspeed=80,e)for(u in M.opt)void 0!==e[u]&&(M.opt[u]=e[u]);M.opt.disablemutationobserver&&(r=!1),this.doc=M.opt.doc,this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(M.opt.win?M.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==M.opt.win,this.win=M.opt.win||(this.ispage?$(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?$(window):this.win,this.body=$("body"),this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=M.opt.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==this.opt.rtlmode?(w=this.win[0]==window?this.body:this.win,y=w.css("writing-mode")||w.css("-webkit-writing-mode")||w.css("-ms-writing-mode")||w.css("-moz-writing-mode"),"horizontal-tb"==y||"lr-tb"==y||""==y?(this.isrtlmode="rtl"==w.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==y||"tb"==y||"tb-rl"==y||"rl-tb"==y,this.isvertical="vertical-rl"==y||"tb"==y||"tb-rl"==y)):(this.isrtlmode=!0===this.opt.rtlmode,this.isvertical=!1),this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1;do{this.id="ascrail"+g++}while(document.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.visibility=!0,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=M.opt.overflowx,this.overflowy=M.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=s(),x=$.extend({},this.detected),this.canhwscroll=x.hastransform&&M.opt.hwacceleration,this.ishwscroll=this.canhwscroll&&M.haswrapper,this.isrtlmode?this.isvertical?this.hasreversehr=!(x.iswebkit||x.isie||x.isie11):this.hasreversehr=!(x.iswebkit||x.isie&&!x.isie10&&!x.isie11):this.hasreversehr=!1,this.istouchcapable=!1,x.cantouch||!x.hasw3ctouch&&!x.hasmstouch?!x.cantouch||x.isios||x.isandroid||!x.iswebkit&&!x.ismozilla||(this.istouchcapable=!0):this.istouchcapable=!0,M.opt.enablemouselockapi||(x.hasmousecapture=!1,x.haspointerlock=!1),this.debounced=function(e,o,t){if(M){M.delaylist[e]||!1||(M.delaylist[e]={h:v(function(){M.delaylist[e].fn.call(M),M.delaylist[e]=!1},t)},o.call(M)),M.delaylist[e].fn=o}},S=!1,this.synched=function(e,o){return M.synclist[e]=o,function(){S||(v(function(){var e,o;if(M){S=!1;for(e in M.synclist)o=M.synclist[e],o&&o.call(M),M.synclist[e]=!1}}),S=!0)}(),e},this.unsynched=function(e){M.synclist[e]&&(M.synclist[e]=!1)},this.css=function(e,o){for(var t in o)M.saved.css.push([e,t,e.css(t)]),e.css(t,o[t])},this.scrollTop=function(e){return void 0===e?M.getScrollTop():M.setScrollTop(e)},this.scrollLeft=function(e){return void 0===e?M.getScrollLeft():M.setScrollLeft(e)},z=function(e,o,t,r,i,n,s){this.st=e,this.ed=o,this.spd=t,this.p1=r||0,this.p2=i||1,this.p3=n||0,this.p4=s||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st},z.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=(new Date).getTime(),o=1-(e-this.ts)/this.spd,t=this.B2(o)+this.B3(o)+this.B4(o);return o<0?this.ed:this.st+Math.round(this.df*t)},update:function(e,o){return this.st=this.getNow(),this.ed=e,this.spd=o,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll?(this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},x.hastranslate3d&&x.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(e){if(!e){var o=t();if(o)return 16==o.length?-o[13]:-o[5];if(M.timerscroll&&M.timerscroll.bz)return M.timerscroll.bz.getNow()}return M.doc.translate.y},this.getScrollLeft=function(e){if(!e){var o=t();if(o)return 16==o.length?-o[12]:-o[4];if(M.timerscroll&&M.timerscroll.bh)return M.timerscroll.bh.getNow()}return M.doc.translate.x},this.notifyScrollEvent=function(e){var o=document.createEvent("UIEvents");o.initUIEvent("scroll",!1,!0,window,1),o.niceevent=!0,e.dispatchEvent(o)},T=this.isrtlmode?1:-1,x.hastranslate3d&&M.opt.enabletranslate3d?(this.setScrollTop=function(e,o){M.doc.translate.y=e,M.doc.translate.ty=-1*e+"px",M.doc.css(x.trstyle,"translate3d("+M.doc.translate.tx+","+M.doc.translate.ty+",0px)"),o||M.notifyScrollEvent(M.win[0])},this.setScrollLeft=function(e,o){M.doc.translate.x=e,M.doc.translate.tx=e*T+"px",M.doc.css(x.trstyle,"translate3d("+M.doc.translate.tx+","+M.doc.translate.ty+",0px)"),o||M.notifyScrollEvent(M.win[0])}):(this.setScrollTop=function(e,o){M.doc.translate.y=e,M.doc.translate.ty=-1*e+"px",M.doc.css(x.trstyle,"translate("+M.doc.translate.tx+","+M.doc.translate.ty+")"),o||M.notifyScrollEvent(M.win[0])},this.setScrollLeft=function(e,o){M.doc.translate.x=e,M.doc.translate.tx=e*T+"px",M.doc.css(x.trstyle,"translate("+M.doc.translate.tx+","+M.doc.translate.ty+")"),o||M.notifyScrollEvent(M.win[0])})):(this.getScrollTop=function(){return M.docscroll.scrollTop()},this.setScrollTop=function(e){return setTimeout(function(){M&&M.docscroll.scrollTop(e)},1)},this.getScrollLeft=function(){return M.hasreversehr?M.detected.ismozilla?M.page.maxw-Math.abs(M.docscroll.scrollLeft()):M.page.maxw-M.docscroll.scrollLeft():M.docscroll.scrollLeft()},this.setScrollLeft=function(e){return setTimeout(function(){if(M)return M.hasreversehr&&(e=M.detected.ismozilla?-(M.page.maxw-e):M.page.maxw-e),M.docscroll.scrollLeft(e)},1)}),this.getTarget=function(e){return!!e&&(e.target?e.target:!!e.srcElement&&e.srcElement)},this.hasParent=function(e,o){if(!e)return!1;for(var t=e.target||e.srcElement||e||!1;t&&t.id!=o;)t=t.parentNode||!1;return!1!==t},k={thin:1,medium:3,thick:5},this.getDocumentScrollOffset=function(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}},this.getOffset=function(){var e,o,t,r;return M.isfixed?(e=M.win.offset(),o=M.getDocumentScrollOffset(),e.top-=o.top,e.left-=o.left,e):(t=M.win.offset(),M.viewport?(r=M.viewport.offset(),{top:t.top-r.top,left:t.left-r.left}):t)},this.updateScrollBar=function(e){var o,t,r,i,n;M.ishwscroll?(M.rail.css({height:M.win.innerHeight()-(M.opt.railpadding.top+M.opt.railpadding.bottom)}),M.railh&&M.railh.css({width:M.win.innerWidth()-(M.opt.railpadding.left+M.opt.railpadding.right)})):(r=M.getOffset(),o={top:r.top,left:r.left-(M.opt.railpadding.left+M.opt.railpadding.right)},o.top+=l(M.win,"border-top-width",!0),o.left+=M.rail.align?M.win.outerWidth()-l(M.win,"border-right-width")-M.rail.width:l(M.win,"border-left-width"),t=M.opt.railoffset,t&&(t.top&&(o.top+=t.top),t.left&&(o.left+=t.left)),M.railslocked||M.rail.css({top:o.top,left:o.left,height:(e?e.h:M.win.innerHeight())-(M.opt.railpadding.top+M.opt.railpadding.bottom)}),M.zoom&&M.zoom.css({top:o.top+1,left:1==M.rail.align?o.left-20:o.left+M.rail.width+4}),M.railh&&!M.railslocked&&(o={top:r.top,left:r.left},t=M.opt.railhoffset,t&&(t.top&&(o.top+=t.top),t.left&&(o.left+=t.left)),i=M.railh.align?o.top+l(M.win,"border-top-width",!0)+M.win.innerHeight()-M.railh.height:o.top+l(M.win,"border-top-width",!0),n=o.left+l(M.win,"border-left-width"),M.railh.css({top:i-(M.opt.railpadding.top+M.opt.railpadding.bottom),left:n,width:M.railh.width})))},this.doRailClick=function(e,o,t){var r,i,n,s;M.railslocked||(M.cancelEvent(e),o?(r=t?M.doScrollLeft:M.doScrollTop,n=t?(e.pageX-M.railh.offset().left-M.cursorwidth/2)*M.scrollratio.x:(e.pageY-M.rail.offset().top-M.cursorheight/2)*M.scrollratio.y,r(n)):(r=t?M.doScrollLeftBy:M.doScrollBy,n=t?M.scroll.x:M.scroll.y,s=t?e.pageX-M.railh.offset().left:e.pageY-M.rail.offset().top,i=t?M.view.w:M.view.h,r(n>=s?i:-i)))},M.hasanimationframe=v,M.hascancelanimationframe=b,M.hasanimationframe?M.hascancelanimationframe||(b=function(){M.cancelAnimationFrame=!0}):(v=function(e){return setTimeout(e,15-Math.floor(+new Date/1e3)%16)},b=clearTimeout),this.init=function(){var e,o,t,i,s,l,c,d,u,g,w,v,b,y,S,z,T,k,E;if(M.saved.css=[],x.isie7mobile)return!0;if(x.isoperamini)return!0;if(x.isie10?"-ms-touch-action":"touch-action",x.hasmstouch&&M.css(M.ispage?$("html"):M.win,{_touchaction:"none"}),e=x.ismodernie||x.isie10?{"-ms-overflow-style":"none"}:{"overflow-y":"hidden"},M.zindex="auto",M.ispage||"auto"!=M.opt.zindex?M.zindex=M.opt.zindex:M.zindex=n()||"auto",!M.ispage&&"auto"!=M.zindex&&M.zindex>f&&(f=M.zindex),M.isie&&0==M.zindex&&"auto"==M.opt.zindex&&(M.zindex="auto"),!M.ispage||!x.cantouch&&!x.isieold&&!x.isie9mobile){o=M.docscroll,M.ispage&&(o=M.haswrapper?M.win:M.doc),x.isie9mobile||M.css(o,e),M.ispage&&x.isie7&&("BODY"==M.doc[0].nodeName?M.css($("html"),{"overflow-y":"hidden"}):"HTML"==M.doc[0].nodeName&&M.css($("body"),e)),!x.isios||M.ispage||M.haswrapper||M.css($("body"),{"-webkit-overflow-scrolling":"touch"}),t=$(document.createElement("div")),t.css({position:"relative",top:0,float:"right",width:M.opt.cursorwidth,height:0,"background-color":M.opt.cursorcolor,border:M.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":M.opt.cursorborderradius,"-moz-border-radius":M.opt.cursorborderradius,"border-radius":M.opt.cursorborderradius}),t.hborder=parseFloat(t.outerHeight()-t.innerHeight()),t.addClass("nicescroll-cursors"),M.cursor=t,i=$(document.createElement("div")),i.attr("id",M.id),i.addClass("nicescroll-rails nicescroll-rails-vr"),c=["left","right","top","bottom"];for(d in c)l=c[d],s=M.opt.railpadding[l],s?i.css("padding-"+l,s+"px"):M.opt.railpadding[l]=0;i.append(t),i.width=Math.max(parseFloat(M.opt.cursorwidth),t.outerWidth()),i.css({width:i.width+"px",zIndex:M.zindex,background:M.opt.background,cursor:"default"}),i.visibility=!0,i.scrollable=!0,i.align="left"==M.opt.railalign?0:1,M.rail=i,M.rail.drag=!1,u=!1,!M.opt.boxzoom||M.ispage||x.isieold||(u=document.createElement("div"),M.bind(u,"click",M.doZoom),M.bind(u,"mouseenter",function(){M.zoom.css("opacity",M.opt.cursoropacitymax)}),M.bind(u,"mouseleave",function(){M.zoom.css("opacity",M.opt.cursoropacitymin)}),M.zoom=$(u),M.zoom.css({cursor:"pointer",zIndex:M.zindex,backgroundImage:"url("+M.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),M.opt.dblclickzoom&&M.bind(M.win,"dblclick",M.doZoom),x.cantouch&&M.opt.gesturezoom&&(M.ongesturezoom=function(e){return e.scale>1.5&&M.doZoomIn(e),e.scale<.8&&M.doZoomOut(e),M.cancelEvent(e)},M.bind(M.win,"gestureend",M.ongesturezoom))),M.railh=!1,M.opt.horizrailenabled&&(M.css(o,{overflowX:"hidden"}),t=$(document.createElement("div")),t.css({position:"absolute",top:0,height:M.opt.cursorwidth,width:0,backgroundColor:M.opt.cursorcolor,border:M.opt.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":M.opt.cursorborderradius,"-moz-border-radius":M.opt.cursorborderradius,"border-radius":M.opt.cursorborderradius}),x.isieold&&t.css("overflow","hidden"),t.wborder=parseFloat(t.outerWidth()-t.innerWidth()),t.addClass("nicescroll-cursors"),M.cursorh=t,g=$(document.createElement("div")),g.attr("id",M.id+"-hr"),g.addClass("nicescroll-rails nicescroll-rails-hr"),g.height=Math.max(parseFloat(M.opt.cursorwidth),t.outerHeight()),g.css({height:g.height+"px",zIndex:M.zindex,background:M.opt.background}),g.append(t),g.visibility=!0,g.scrollable=!0,g.align="top"==M.opt.railvalign?0:1,M.railh=g,M.railh.drag=!1),M.ispage?(i.css({position:"fixed",top:0,height:"100%"}),i.align?i.css({right:0}):i.css({left:0}),M.body.append(i),M.railh&&(g.css({position:"fixed",left:0,width:"100%"}),g.align?g.css({bottom:0}):g.css({top:0}),M.body.append(g))):(M.ishwscroll?("static"==M.win.css("position")&&M.css(M.win,{position:"relative"}),w="HTML"==M.win[0].nodeName?M.body:M.win,$(w).scrollTop(0).scrollLeft(0),M.zoom&&(M.zoom.css({position:"absolute",top:1,right:0,"margin-right":i.width+4}),w.append(M.zoom)),i.css({position:"absolute",top:0}),i.align?i.css({right:0}):i.css({left:0}),w.append(i),g&&(g.css({position:"absolute",left:0,bottom:0}),g.align?g.css({bottom:0}):g.css({top:0}),w.append(g))):(M.isfixed="fixed"==M.win.css("position"),v=M.isfixed?"fixed":"absolute",M.isfixed||(M.viewport=M.getViewport(M.win[0])),M.viewport&&(M.body=M.viewport,0==/fixed|absolute/.test(M.viewport.css("position"))&&M.css(M.viewport,{position:"relative"})),i.css({position:v}),M.zoom&&M.zoom.css({position:v}),M.updateScrollBar(),M.body.append(i),M.zoom&&M.body.append(M.zoom),M.railh&&(g.css({position:v}),M.body.append(g))),x.isios&&M.css(M.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),x.isie&&M.opt.disableoutline&&M.win.attr("hideFocus","true"),x.iswebkit&&M.opt.disableoutline&&M.win.css("outline","none")),!1===M.opt.autohidemode?(M.autohidedom=!1,M.rail.css({opacity:M.opt.cursoropacitymax}),M.railh&&M.railh.css({opacity:M.opt.cursoropacitymax})):!0===M.opt.autohidemode||"leave"===M.opt.autohidemode?(M.autohidedom=$().add(M.rail),x.isie8&&(M.autohidedom=M.autohidedom.add(M.cursor)),M.railh&&(M.autohidedom=M.autohidedom.add(M.railh)),M.railh&&x.isie8&&(M.autohidedom=M.autohidedom.add(M.cursorh))):"scroll"==M.opt.autohidemode?(M.autohidedom=$().add(M.rail),M.railh&&(M.autohidedom=M.autohidedom.add(M.railh))):"cursor"==M.opt.autohidemode?(M.autohidedom=$().add(M.cursor),M.railh&&(M.autohidedom=M.autohidedom.add(M.cursorh))):"hidden"==M.opt.autohidemode&&(M.autohidedom=!1,M.hide(),M.railslocked=!1),x.isie9mobile?(M.scrollmom=new a(M),M.onmangotouch=function(){var e,o,t,r,i,n,s,l=M.getScrollTop(),a=M.getScrollLeft();if(l==M.scrollmom.lastscrolly&&a==M.scrollmom.lastscrollx)return!0;e=l-M.mangotouch.sy,o=a-M.mangotouch.sx,0!=(t=Math.round(Math.sqrt(Math.pow(o,2)+Math.pow(e,2))))&&(r=e<0?-1:1,i=o<0?-1:1,n=+new Date,M.mangotouch.lazy&&clearTimeout(M.mangotouch.lazy),n-M.mangotouch.tm>80||M.mangotouch.dry!=r||M.mangotouch.drx!=i?(M.scrollmom.stop(),M.scrollmom.reset(a,l),M.mangotouch.sy=l,M.mangotouch.ly=l,M.mangotouch.sx=a,M.mangotouch.lx=a,M.mangotouch.dry=r,M.mangotouch.drx=i,M.mangotouch.tm=n):(M.scrollmom.stop(),M.scrollmom.update(M.mangotouch.sx-o,M.mangotouch.sy-e),M.mangotouch.tm=n,s=Math.max(Math.abs(M.mangotouch.ly-l),Math.abs(M.mangotouch.lx-a)),M.mangotouch.ly=l,M.mangotouch.lx=a,s>2&&(M.mangotouch.lazy=setTimeout(function(){M.mangotouch.lazy=!1,M.mangotouch.dry=0,M.mangotouch.drx=0,M.mangotouch.tm=0,M.scrollmom.doMomentum(30)},100))))},b=M.getScrollTop(),y=M.getScrollLeft(),M.mangotouch={sy:b,ly:b,dry:0,sx:y,lx:y,drx:0,lazy:!1,tm:0},M.bind(M.docscroll,"scroll",M.onmangotouch)):((x.cantouch||M.istouchcapable||M.opt.touchbehavior||x.hasmstouch)&&(M.scrollmom=new a(M),M.ontouchstart=function(e){var o,t,r,i,n,s,l,a;if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(M.hasmoving=!1,!M.railslocked){if(x.hasmstouch)for(o=!!e.target&&e.target;o&&(t=$(o).getNiceScroll(),!(t.length>0&&t[0].me==M.me));){if(t.length>0)return!1;if("DIV"==o.nodeName&&o.id==M.id)break;o=!!o.parentNode&&o.parentNode}if(M.cancelScroll(),(o=M.getTarget(e))&&(/INPUT/i.test(o.nodeName)&&/range/i.test(o.type)))return M.stopPropagation(e);if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),M.forcescreen&&(r=e,e={original:e.original?e.original:e},e.clientX=r.screenX,e.clientY=r.screenY),M.rail.drag={x:e.clientX,y:e.clientY,sx:M.scroll.x,sy:M.scroll.y,st:M.getScrollTop(),sl:M.getScrollLeft(),pt:2,dl:!1},M.ispage||!M.opt.directionlockdeadzone?M.rail.drag.dl="f":(i={w:$(window).width(),h:$(window).height()},n={w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},s=Math.max(0,n.h-i.h),l=Math.max(0,n.w-i.w),!M.rail.scrollable&&M.railh.scrollable?M.rail.drag.ck=s>0&&"v":M.rail.scrollable&&!M.railh.scrollable?M.rail.drag.ck=l>0&&"h":M.rail.drag.ck=!1,M.rail.drag.ck||(M.rail.drag.dl="f")),M.opt.touchbehavior&&M.isiframe&&x.isie&&(a=M.win.position(),M.rail.drag.x+=a.left,M.rail.drag.y+=a.top),M.hasmoving=!1,M.lastmouseup=!1,M.scrollmom.reset(e.clientX,e.clientY),!x.cantouch&&!this.istouchcapable&&!e.pointerType){if(!(!!o&&/INPUT|SELECT|TEXTAREA/i.test(o.nodeName)))return!M.ispage&&x.hasmousecapture&&o.setCapture(),M.opt.touchbehavior?(o.onclick&&!o._onclick&&(o._onclick=o.onclick,o.onclick=function(e){if(M.hasmoving)return!1;o._onclick.call(this,e)}),M.cancelEvent(e)):M.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test($(o).attr("type"))&&(M.preventclick={tg:o,click:!1})}}},M.ontouchend=function(e){if(!M.rail.drag)return!0;if(2==M.rail.drag.pt){if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(M.scrollmom.doMomentum(),M.rail.drag=!1,M.hasmoving&&(M.lastmouseup=!0,M.hideCursor(),x.hasmousecapture&&document.releaseCapture(),!x.cantouch))return M.cancelEvent(e)}else if(1==M.rail.drag.pt)return M.onmouseup(e)},S=M.opt.touchbehavior&&M.isiframe&&!x.hasmousecapture,M.ontouchmove=function(e,o){var t,r,i,n,s,l,a,c,d,u,h,p,m,g,f;if(!M.rail.drag)return!1;if(e.targetTouches&&M.opt.preventmultitouchscrolling&&e.targetTouches.length>1)return!1;if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(2==M.rail.drag.pt){if(x.cantouch&&x.isios&&void 0===e.original)return!0;if(M.hasmoving=!0,M.preventclick&&!M.preventclick.click&&(M.preventclick.click=M.preventclick.tg.onclick||!1,M.preventclick.tg.onclick=M.onpreventclick),t=$.extend({original:e},e),e=t,"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),M.forcescreen&&(r=e,e={original:e.original?e.original:e},e.clientX=r.screenX,e.clientY=r.screenY),n=i=0,S&&!o&&(s=M.win.position(),n=-s.left,i=-s.top),l=e.clientY+i,a=l-M.rail.drag.y,c=e.clientX+n,d=c-M.rail.drag.x,u=M.rail.drag.st-a,M.ishwscroll&&M.opt.bouncescroll?u<0?u=Math.round(u/2):u>M.page.maxh&&(u=M.page.maxh+Math.round((u-M.page.maxh)/2)):(u<0&&(u=0,l=0),u>M.page.maxh&&(u=M.page.maxh,l=0)),M.railh&&M.railh.scrollable&&(h=M.isrtlmode?d-M.rail.drag.sl:M.rail.drag.sl-d,M.ishwscroll&&M.opt.bouncescroll?h<0?h=Math.round(h/2):h>M.page.maxw&&(h=M.page.maxw+Math.round((h-M.page.maxw)/2)):(h<0&&(h=0,c=0),h>M.page.maxw&&(h=M.page.maxw,c=0))),p=!1,M.rail.drag.dl)p=!0,"v"==M.rail.drag.dl?h=M.rail.drag.sl:"h"==M.rail.drag.dl&&(u=M.rail.drag.st);else if(m=Math.abs(a),g=Math.abs(d),f=M.opt.directionlockdeadzone,"v"==M.rail.drag.ck){if(m>f&&g<=.3*m)return M.rail.drag=!1,!0;g>f&&(M.rail.drag.dl="f",$("body").scrollTop($("body").scrollTop()))}else if("h"==M.rail.drag.ck){if(g>f&&m<=.3*g)return M.rail.drag=!1,!0;m>f&&(M.rail.drag.dl="f",$("body").scrollLeft($("body").scrollLeft()))}if(M.synched("touchmove",function(){M.rail.drag&&2==M.rail.drag.pt&&(M.prepareTransition&&M.prepareTransition(0),M.rail.scrollable&&M.setScrollTop(u),M.scrollmom.update(c,l),M.railh&&M.railh.scrollable?(M.setScrollLeft(h),M.showCursor(u,h)):M.showCursor(u),x.isie10&&document.selection.clear())}),x.ischrome&&M.istouchcapable&&(p=!1),p)return M.cancelEvent(e)}else if(1==M.rail.drag.pt)return M.onmousemove(e)},M.ontouchstartCursor=function(e,o){if(!M.rail.drag||3==M.rail.drag.pt){if(M.locked)return M.cancelEvent(e);M.cancelScroll(),M.rail.drag={x:e.touches[0].clientX,y:e.touches[0].clientY,sx:M.scroll.x,sy:M.scroll.y,pt:3,hr:!!o};var t=M.getTarget(e);return!M.ispage&&x.hasmousecapture&&t.setCapture(),M.isiframe&&!x.hasmousecapture&&(M.saved["csspointerevents"]=M.doc.css("pointer-events"),M.css(M.doc,{"pointer-events":"none"})),M.cancelEvent(e)}},M.ontouchendCursor=function(e){if(M.rail.drag){if(x.hasmousecapture&&document.releaseCapture(),M.isiframe&&!x.hasmousecapture&&M.doc.css("pointer-events",M.saved["csspointerevents"]),3!=M.rail.drag.pt)return;return M.rail.drag=!1,M.cancelEvent(e)}},M.ontouchmoveCursor=function(e){var o,t;if(M.rail.drag){if(3!=M.rail.drag.pt)return;return M.cursorfreezed=!0,M.rail.drag.hr?(M.scroll.x=M.rail.drag.sx+(e.touches[0].clientX-M.rail.drag.x),M.scroll.x<0&&(M.scroll.x=0),o=M.scrollvaluemaxw,M.scroll.x>o&&(M.scroll.x=o)):(M.scroll.y=M.rail.drag.sy+(e.touches[0].clientY-M.rail.drag.y),M.scroll.y<0&&(M.scroll.y=0),t=M.scrollvaluemax,M.scroll.y>t&&(M.scroll.y=t)),M.synched("touchmove",function(){M.rail.drag&&3==M.rail.drag.pt&&(M.showCursor(),M.rail.drag.hr?M.doScrollLeft(Math.round(M.scroll.x*M.scrollratio.x),M.opt.cursordragspeed):M.doScrollTop(Math.round(M.scroll.y*M.scrollratio.y),M.opt.cursordragspeed))}),M.cancelEvent(e)}}),M.onmousedown=function(e,o){if(!M.rail.drag||1==M.rail.drag.pt){if(M.railslocked)return M.cancelEvent(e);M.cancelScroll(),M.rail.drag={x:e.clientX,y:e.clientY,sx:M.scroll.x,sy:M.scroll.y,pt:1,hr:!!o};var t=M.getTarget(e);return!M.ispage&&x.hasmousecapture&&t.setCapture(),M.isiframe&&!x.hasmousecapture&&(M.saved.csspointerevents=M.doc.css("pointer-events"),M.css(M.doc,{"pointer-events":"none"})),M.hasmoving=!1,M.cancelEvent(e)}},M.onmouseup=function(e){if(M.rail.drag)return 1!=M.rail.drag.pt||(x.hasmousecapture&&document.releaseCapture(),M.isiframe&&!x.hasmousecapture&&M.doc.css("pointer-events",M.saved.csspointerevents),M.rail.drag=!1,M.hasmoving&&M.triggerScrollEnd(),M.cancelEvent(e))},M.onmousemove=function(e){var o,t;if(M.rail.drag){if(1!=M.rail.drag.pt)return;return x.ischrome&&0==e.which?M.onmouseup(e):(M.cursorfreezed=!0,M.hasmoving=!0,M.rail.drag.hr?(M.scroll.x=M.rail.drag.sx+(e.clientX-M.rail.drag.x),M.scroll.x<0&&(M.scroll.x=0),o=M.scrollvaluemaxw,M.scroll.x>o&&(M.scroll.x=o)):(M.scroll.y=M.rail.drag.sy+(e.clientY-M.rail.drag.y),M.scroll.y<0&&(M.scroll.y=0),t=M.scrollvaluemax,M.scroll.y>t&&(M.scroll.y=t)),M.synched("mousemove",function(){M.rail.drag&&1==M.rail.drag.pt&&(M.showCursor(),M.rail.drag.hr?M.hasreversehr?M.doScrollLeft(M.scrollvaluemaxw-Math.round(M.scroll.x*M.scrollratio.x),M.opt.cursordragspeed):M.doScrollLeft(Math.round(M.scroll.x*M.scrollratio.x),M.opt.cursordragspeed):M.doScrollTop(Math.round(M.scroll.y*M.scrollratio.y),M.opt.cursordragspeed))}),M.cancelEvent(e))}M.checkarea=0},x.cantouch||M.opt.touchbehavior?(M.onpreventclick=function(e){if(M.preventclick)return M.preventclick.tg.onclick=M.preventclick.click,M.preventclick=!1,M.cancelEvent(e)},M.bind(M.win,"mousedown",M.ontouchstart),M.onclick=!x.isios&&function(e){return!M.lastmouseup||(M.lastmouseup=!1,M.cancelEvent(e))},M.opt.grabcursorenabled&&x.cursorgrabvalue&&(M.css(M.ispage?M.doc:M.win,{cursor:x.cursorgrabvalue}),M.css(M.rail,{cursor:x.cursorgrabvalue}))):(z=function(e){var o,t,r;M.selectiondrag&&(e&&(o=M.win.outerHeight(),t=e.pageY-M.selectiondrag.top,t>0&&t<o&&(t=0),t>=o&&(t-=o),M.selectiondrag.df=t),0!=M.selectiondrag.df&&(r=2*-Math.floor(M.selectiondrag.df/6),M.doScrollBy(r),M.debounced("doselectionscroll",function(){z()},50)))},"getSelection"in document?M.hasTextSelected=function(){return document.getSelection().rangeCount>0}:"selection"in document?M.hasTextSelected=function(){return"None"!=document.selection.type}:M.hasTextSelected=function(){return!1},M.onselectionstart=function(e){M.ispage||(M.selectiondrag=M.win.offset())},M.onselectionend=function(e){M.selectiondrag=!1},M.onselectiondrag=function(e){M.selectiondrag&&M.hasTextSelected()&&M.debounced("selectionscroll",function(){z(e)},250)}),x.hasw3ctouch?(M.css(M.rail,{"touch-action":"none"}),M.css(M.cursor,{"touch-action":"none"}),M.bind(M.win,"pointerdown",M.ontouchstart),M.bind(document,"pointerup",M.ontouchend),M.bind(document,"pointermove",M.ontouchmove)):x.hasmstouch?(M.css(M.rail,{"-ms-touch-action":"none"}),M.css(M.cursor,{"-ms-touch-action":"none"}),M.bind(M.win,"MSPointerDown",M.ontouchstart),M.bind(document,"MSPointerUp",M.ontouchend),M.bind(document,"MSPointerMove",M.ontouchmove),M.bind(M.cursor,"MSGestureHold",function(e){e.preventDefault()}),M.bind(M.cursor,"contextmenu",function(e){e.preventDefault()})):this.istouchcapable&&(M.bind(M.win,"touchstart",M.ontouchstart),M.bind(document,"touchend",M.ontouchend),M.bind(document,"touchcancel",M.ontouchend),M.bind(document,"touchmove",M.ontouchmove)),(M.opt.cursordragontouch||!x.cantouch&&!M.opt.touchbehavior)&&(M.rail.css({cursor:"default"}),M.railh&&M.railh.css({cursor:"default"}),M.jqbind(M.rail,"mouseenter",function(){if(!M.ispage&&!M.win.is(":visible"))return!1;M.canshowonmouseevent&&M.showCursor(),M.rail.active=!0}),M.jqbind(M.rail,"mouseleave",function(){M.rail.active=!1,M.rail.drag||M.hideCursor()}),M.opt.sensitiverail&&(M.bind(M.rail,"click",function(e){M.doRailClick(e,!1,!1)}),M.bind(M.rail,"dblclick",function(e){M.doRailClick(e,!0,!1)}),M.bind(M.cursor,"click",function(e){M.cancelEvent(e)}),M.bind(M.cursor,"dblclick",function(e){M.cancelEvent(e)
})),M.railh&&(M.jqbind(M.railh,"mouseenter",function(){if(!M.ispage&&!M.win.is(":visible"))return!1;M.canshowonmouseevent&&M.showCursor(),M.rail.active=!0}),M.jqbind(M.railh,"mouseleave",function(){M.rail.active=!1,M.rail.drag||M.hideCursor()}),M.opt.sensitiverail&&(M.bind(M.railh,"click",function(e){M.doRailClick(e,!1,!0)}),M.bind(M.railh,"dblclick",function(e){M.doRailClick(e,!0,!0)}),M.bind(M.cursorh,"click",function(e){M.cancelEvent(e)}),M.bind(M.cursorh,"dblclick",function(e){M.cancelEvent(e)})))),M.opt.cursordragontouch&&(this.istouchcapable||x.cantouch)&&(M.bind(M.cursor,"touchstart",M.ontouchstartCursor),M.bind(M.cursor,"touchmove",M.ontouchmoveCursor),M.bind(M.cursor,"touchend",M.ontouchendCursor),M.cursorh&&M.bind(M.cursorh,"touchstart",function(e){M.ontouchstartCursor(e,!0)}),M.cursorh&&M.bind(M.cursorh,"touchmove",M.ontouchmoveCursor),M.cursorh&&M.bind(M.cursorh,"touchend",M.ontouchendCursor)),x.cantouch||M.opt.touchbehavior?(M.bind(x.hasmousecapture?M.win:document,"mouseup",M.ontouchend),M.bind(document,"mousemove",M.ontouchmove),M.onclick&&M.bind(document,"click",M.onclick),M.opt.cursordragontouch?(M.bind(M.cursor,"mousedown",M.onmousedown),M.bind(M.cursor,"mouseup",M.onmouseup),M.cursorh&&M.bind(M.cursorh,"mousedown",function(e){M.onmousedown(e,!0)}),M.cursorh&&M.bind(M.cursorh,"mouseup",M.onmouseup)):(M.bind(M.rail,"mousedown",function(e){e.preventDefault()}),M.railh&&M.bind(M.railh,"mousedown",function(e){e.preventDefault()}))):(M.bind(x.hasmousecapture?M.win:document,"mouseup",M.onmouseup),M.bind(document,"mousemove",M.onmousemove),M.onclick&&M.bind(document,"click",M.onclick),M.bind(M.cursor,"mousedown",M.onmousedown),M.bind(M.cursor,"mouseup",M.onmouseup),M.railh&&(M.bind(M.cursorh,"mousedown",function(e){M.onmousedown(e,!0)}),M.bind(M.cursorh,"mouseup",M.onmouseup)),!M.ispage&&M.opt.enablescrollonselection&&(M.bind(M.win[0],"mousedown",M.onselectionstart),M.bind(document,"mouseup",M.onselectionend),M.bind(M.cursor,"mouseup",M.onselectionend),M.cursorh&&M.bind(M.cursorh,"mouseup",M.onselectionend),M.bind(document,"mousemove",M.onselectiondrag)),M.zoom&&(M.jqbind(M.zoom,"mouseenter",function(){M.canshowonmouseevent&&M.showCursor(),M.rail.active=!0}),M.jqbind(M.zoom,"mouseleave",function(){M.rail.active=!1,M.rail.drag||M.hideCursor()}))),M.opt.enablemousewheel&&(M.isiframe||M.mousewheel(x.isie&&M.ispage?document:M.win,M.onmousewheel),M.mousewheel(M.rail,M.onmousewheel),M.railh&&M.mousewheel(M.railh,M.onmousewheelhr)),M.ispage||x.cantouch||/HTML|^BODY/.test(M.win[0].nodeName)||(M.win.attr("tabindex")||M.win.attr({tabindex:m++}),M.jqbind(M.win,"focus",function(e){h=M.getTarget(e).id||!0,M.hasfocus=!0,M.canshowonmouseevent&&M.noticeCursor()}),M.jqbind(M.win,"blur",function(e){h=!1,M.hasfocus=!1}),M.jqbind(M.win,"mouseenter",function(e){p=M.getTarget(e).id||!0,M.hasmousefocus=!0,M.canshowonmouseevent&&M.noticeCursor()}),M.jqbind(M.win,"mouseleave",function(){p=!1,M.hasmousefocus=!1,M.rail.drag||M.hideCursor()}))),M.onkeypress=function(e){var o,t,r,i,n;if(M.railslocked&&0==M.page.maxh)return!0;if(e=e||window.e,(o=M.getTarget(e))&&/INPUT|TEXTAREA|SELECT|OPTION/.test(o.nodeName)&&(!(o.getAttribute("type")||o.type||!1)||!/submit|button|cancel/i.tp))return!0;if($(o).attr("contenteditable"))return!0;if(M.hasfocus||M.hasmousefocus&&!h||M.ispage&&!h&&!p){if(t=e.keyCode,M.railslocked&&27!=t)return M.cancelEvent(e);switch(r=e.ctrlKey||!1,i=e.shiftKey||!1,n=!1,t){case 38:case 63233:M.doScrollBy(72),n=!0;break;case 40:case 63235:M.doScrollBy(-72),n=!0;break;case 37:case 63232:M.railh&&(r?M.doScrollLeft(0):M.doScrollLeftBy(72),n=!0);break;case 39:case 63234:M.railh&&(r?M.doScrollLeft(M.page.maxw):M.doScrollLeftBy(-72),n=!0);break;case 33:case 63276:M.doScrollBy(M.view.h),n=!0;break;case 34:case 63277:M.doScrollBy(-M.view.h),n=!0;break;case 36:case 63273:M.railh&&r?M.doScrollPos(0,0):M.doScrollTo(0),n=!0;break;case 35:case 63275:M.railh&&r?M.doScrollPos(M.page.maxw,M.page.maxh):M.doScrollTo(M.page.maxh),n=!0;break;case 32:M.opt.spacebarenabled&&(i?M.doScrollBy(M.view.h):M.doScrollBy(-M.view.h),n=!0);break;case 27:M.zoomactive&&(M.doZoom(),n=!0)}if(n)return M.cancelEvent(e)}},M.opt.enablekeyboard&&M.bind(document,x.isopera&&!x.isopera12?"keypress":"keydown",M.onkeypress),M.bind(document,"keydown",function(e){(e.ctrlKey||!1)&&(M.wheelprevented=!0)}),M.bind(document,"keyup",function(e){e.ctrlKey||!1||(M.wheelprevented=!1)}),M.bind(window,"blur",function(e){M.wheelprevented=!1}),M.bind(window,"resize",M.lazyResize),M.bind(window,"orientationchange",M.lazyResize),M.bind(window,"load",M.lazyResize),!x.ischrome||M.ispage||M.haswrapper||(T=M.win.attr("style"),k=parseFloat(M.win.css("width"))+1,M.win.css("width",k),M.synched("chromefix",function(){M.win.attr("style",T)})),M.onAttributeChange=function(e){M.lazyResize(M.isieold?250:30)},M.isie11||!1===r||(M.observerbody=new r(function(e){if(e.forEach(function(e){if("attributes"==e.type)return $("body").hasClass("modal-open")&&$("body").hasClass("modal-dialog")&&!$.contains($(".modal-dialog")[0],M.doc[0])?M.hide():M.show()}),M.me.clientWidth!=M.page.width||M.me.clientHeight!=M.page.height)return M.lazyResize(30)}),M.observerbody.observe(document.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),M.ispage||M.haswrapper||(!1!==r?(M.observer=new r(function(e){e.forEach(M.onAttributeChange)}),M.observer.observe(M.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),M.observerremover=new r(function(e){e.forEach(function(e){if(e.removedNodes.length>0)for(var o in e.removedNodes)if(M&&e.removedNodes[o]==M.win[0])return M.remove()})}),M.observerremover.observe(M.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(M.bind(M.win,x.isie&&!x.isie9?"propertychange":"DOMAttrModified",M.onAttributeChange),x.isie9&&M.win[0].attachEvent("onpropertychange",M.onAttributeChange),M.bind(M.win,"DOMNodeRemoved",function(e){e.target==M.win[0]&&M.remove()}))),!M.ispage&&M.opt.boxzoom&&M.bind(window,"resize",M.resizeZoom),M.istextarea&&(M.bind(M.win,"keydown",M.lazyResize),M.bind(M.win,"mouseup",M.lazyResize)),M.lazyResize(30)}"IFRAME"==this.doc[0].nodeName&&(E=function(){var o,t;M.iframexd=!1;try{o="contentDocument"in this?this.contentDocument:this.contentWindow.document,o.domain}catch(e){M.iframexd=!0,o=!1}if(M.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;M.forcescreen=!0,M.isiframe&&(M.iframe={doc:$(o),html:M.doc.contents().find("html")[0],body:M.doc.contents().find("body")[0]},M.getContentSize=function(){return{w:Math.max(M.iframe.html.scrollWidth,M.iframe.body.scrollWidth),h:Math.max(M.iframe.html.scrollHeight,M.iframe.body.scrollHeight)}},M.docscroll=$(M.iframe.body)),x.isios||!M.opt.iframeautoresize||M.isiframe||(M.win.scrollTop(0),M.doc.height(""),t=Math.max(o.getElementsByTagName("html")[0].scrollHeight,o.body.scrollHeight),M.doc.height(t)),M.lazyResize(30),x.isie7&&M.css($(M.iframe.html),e),M.css($(M.iframe.body),e),x.isios&&M.haswrapper&&M.css($(o.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?M.bind(this.contentWindow,"scroll",M.onscroll):M.bind(o,"scroll",M.onscroll),M.opt.enablemousewheel&&M.mousewheel(o,M.onmousewheel),M.opt.enablekeyboard&&M.bind(o,x.isopera?"keypress":"keydown",M.onkeypress),(x.cantouch||M.opt.touchbehavior)&&(M.bind(o,"mousedown",M.ontouchstart),M.bind(o,"mousemove",function(e){return M.ontouchmove(e,!0)}),M.opt.grabcursorenabled&&x.cursorgrabvalue&&M.css($(o.body),{cursor:x.cursorgrabvalue})),M.bind(o,"mouseup",M.ontouchend),M.zoom&&(M.opt.dblclickzoom&&M.bind(o,"dblclick",M.doZoom),M.ongesturezoom&&M.bind(o,"gestureend",M.ongesturezoom))},this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){E.call(M.doc[0],!1)},500),M.bind(this.doc,"load",E))},this.showCursor=function(e,o){if(M.cursortimeout&&(clearTimeout(M.cursortimeout),M.cursortimeout=0),M.rail){if(M.autohidedom&&(M.autohidedom.stop().css({opacity:M.opt.cursoropacitymax}),M.cursoractive=!0),M.rail.drag&&1==M.rail.drag.pt||(void 0!==e&&!1!==e&&(M.scroll.y=Math.round(1*e/M.scrollratio.y)),void 0!==o&&(M.scroll.x=Math.round(1*o/M.scrollratio.x))),M.cursor.css({height:M.cursorheight,top:M.scroll.y}),M.cursorh){var t=M.hasreversehr?M.scrollvaluemaxw-M.scroll.x:M.scroll.x;!M.rail.align&&M.rail.visibility?M.cursorh.css({width:M.cursorwidth,left:t+M.rail.width}):M.cursorh.css({width:M.cursorwidth,left:t}),M.cursoractive=!0}M.zoom&&M.zoom.stop().css({opacity:M.opt.cursoropacitymax})}},this.hideCursor=function(e){M.cursortimeout||M.rail&&M.autohidedom&&(M.hasmousefocus&&"leave"==M.opt.autohidemode||(M.cursortimeout=setTimeout(function(){M.rail.active&&M.showonmouseevent||(M.autohidedom.stop().animate({opacity:M.opt.cursoropacitymin}),M.zoom&&M.zoom.stop().animate({opacity:M.opt.cursoropacitymin}),M.cursoractive=!1),M.cursortimeout=0},e||M.opt.hidecursordelay)))},this.noticeCursor=function(e,o,t){M.showCursor(o,t),M.rail.active||M.hideCursor(e)},this.getContentSize=M.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:M.haswrapper?function(){return{w:M.doc.outerWidth()+parseInt(M.win.css("paddingLeft"))+parseInt(M.win.css("paddingRight")),h:M.doc.outerHeight()+parseInt(M.win.css("paddingTop"))+parseInt(M.win.css("paddingBottom"))}}:function(){return{w:M.docscroll[0].scrollWidth,h:M.docscroll[0].scrollHeight}},this.onResize=function(e,o){var t,r,i,n,s,l;if(!M||!M.win)return!1;if(!M.haswrapper&&!M.ispage){if("none"==M.win.css("display"))return M.visibility&&M.hideRail().hideRailHr(),!1;M.hidden||M.visibility||M.showRail().showRailHr()}if(t=M.page.maxh,r=M.page.maxw,i={h:M.view.h,w:M.view.w},M.view={w:M.ispage?M.win.width():parseInt(M.win[0].clientWidth),h:M.ispage?M.win.height():parseInt(M.win[0].clientHeight)},M.page=o||M.getContentSize(),M.page.maxh=Math.max(0,M.page.h-M.view.h),M.page.maxw=Math.max(0,M.page.w-M.view.w),M.page.maxh==t&&M.page.maxw==r&&M.view.w==i.w&&M.view.h==i.h){if(M.ispage)return M;if(n=M.win.offset(),M.lastposition&&(s=M.lastposition,s.top==n.top&&s.left==n.left))return M;M.lastposition=n}return 0==M.page.maxh?(M.hideRail(),M.scrollvaluemax=0,M.scroll.y=0,M.scrollratio.y=0,M.cursorheight=0,M.setScrollTop(0),M.rail&&(M.rail.scrollable=!1)):(M.page.maxh-=M.opt.railpadding.top+M.opt.railpadding.bottom,M.rail.scrollable=!0),0==M.page.maxw?(M.hideRailHr(),M.scrollvaluemaxw=0,M.scroll.x=0,M.scrollratio.x=0,M.cursorwidth=0,M.setScrollLeft(0),M.railh&&(M.railh.scrollable=!1)):(M.page.maxw-=M.opt.railpadding.left+M.opt.railpadding.right,M.railh&&(M.railh.scrollable=M.opt.horizrailenabled)),M.railslocked=M.locked||0==M.page.maxh&&0==M.page.maxw,M.railslocked?(M.ispage||M.updateScrollBar(M.view),!1):(M.hidden||M.visibility?!M.railh||M.hidden||M.railh.visibility||M.showRailHr():M.showRail().showRailHr(),M.istextarea&&M.win.css("resize")&&"none"!=M.win.css("resize")&&(M.view.h-=20),M.cursorheight=Math.min(M.view.h,Math.round(M.view.h*(M.view.h/M.page.h))),M.cursorheight=M.opt.cursorfixedheight?M.opt.cursorfixedheight:Math.max(M.opt.cursorminheight,M.cursorheight),M.cursorwidth=Math.min(M.view.w,Math.round(M.view.w*(M.view.w/M.page.w))),M.cursorwidth=M.opt.cursorfixedheight?M.opt.cursorfixedheight:Math.max(M.opt.cursorminheight,M.cursorwidth),M.scrollvaluemax=M.view.h-M.cursorheight-M.cursor.hborder-(M.opt.railpadding.top+M.opt.railpadding.bottom),M.railh&&(M.railh.width=M.page.maxh>0?M.view.w-M.rail.width:M.view.w,M.scrollvaluemaxw=M.railh.width-M.cursorwidth-M.cursorh.wborder-(M.opt.railpadding.left+M.opt.railpadding.right)),M.ispage||M.updateScrollBar(M.view),M.scrollratio={x:M.page.maxw/M.scrollvaluemaxw,y:M.page.maxh/M.scrollvaluemax},l=M.getScrollTop(),l>M.page.maxh?M.doScrollTop(M.page.maxh):(M.scroll.y=Math.round(M.getScrollTop()*(1/M.scrollratio.y)),M.scroll.x=Math.round(M.getScrollLeft()*(1/M.scrollratio.x)),M.cursoractive&&M.noticeCursor()),M.scroll.y&&0==M.getScrollTop()&&M.doScrollTo(Math.floor(M.scroll.y*M.scrollratio.y)),M)},this.resize=M.onResize,this.hlazyresize=0,this.lazyResize=function(e){return M.haswrapper||M.hide(),M.hlazyresize&&clearTimeout(M.hlazyresize),M.hlazyresize=setTimeout(function(){M&&M.show().resize()},240),M},this.jqbind=function(e,o,t){M.events.push({e:e,n:o,f:t,q:!0}),$(e).bind(o,t)},this.mousewheel=function(e,o,t){var r,i="jquery"in e?e[0]:e;"onwheel"in document.createElement("div")?M._bind(i,"wheel",o,t||!1):(r=void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",c(i,r,o,t||!1),"DOMMouseScroll"==r&&c(i,"MozMousePixelScroll",o,t||!1))},x.haseventlistener?(this.bind=function(e,o,t,r){var i="jquery"in e?e[0]:e;M._bind(i,o,t,r||!1)},this._bind=function(e,o,t,r){M.events.push({e:e,n:o,f:t,b:r,q:!1}),e.addEventListener(o,t,r||!1)},this.cancelEvent=function(e){if(!e)return!1;var e=e.original?e.original:e;return e.cancelable&&e.preventDefault(),e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),!1},this.stopPropagation=function(e){if(!e)return!1;var e=e.original?e.original:e;return e.stopPropagation(),!1},this._unbind=function(e,o,t,r){e.removeEventListener(o,t,r)}):(this.bind=function(e,o,t,r){var i="jquery"in e?e[0]:e;M._bind(i,o,function(e){return e=e||window.event||!1,e&&e.srcElement&&(e.target=e.srcElement),"pageY"in e||(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop),!1!==t.call(i,e)&&!1!==r||M.cancelEvent(e)})},this._bind=function(e,o,t,r){M.events.push({e:e,n:o,f:t,b:r,q:!1}),e.attachEvent?e.attachEvent("on"+o,t):e["on"+o]=t},this.cancelEvent=function(e){var e=window.event||!1;return!!e&&(e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1,!1)},this.stopPropagation=function(e){var e=window.event||!1;return!!e&&(e.cancelBubble=!0,!1)},this._unbind=function(e,o,t,r){e.detachEvent?e.detachEvent("on"+o,t):e["on"+o]=!1}),this.unbindAll=function(){var e,o;for(e=0;e<M.events.length;e++)o=M.events[e],o.q?o.e.unbind(o.n,o.f):M._unbind(o.e,o.n,o.f,o.b)},this.showRail=function(){return 0==M.page.maxh||!M.ispage&&"none"==M.win.css("display")||(M.visibility=!0,M.rail.visibility=!0,M.rail.css("display","block")),M},this.showRailHr=function(){return M.railh?(0==M.page.maxw||!M.ispage&&"none"==M.win.css("display")||(M.railh.visibility=!0,M.railh.css("display","block")),M):M},this.hideRail=function(){return M.visibility=!1,M.rail.visibility=!1,M.rail.css("display","none"),M},this.hideRailHr=function(){return M.railh?(M.railh.visibility=!1,M.railh.css("display","none"),M):M},this.show=function(){return M.hidden=!1,M.railslocked=!1,M.showRail().showRailHr()},this.hide=function(){return M.hidden=!0,M.railslocked=!0,M.hideRail().hideRailHr()},this.toggle=function(){return M.hidden?M.show():M.hide()},this.remove=function(){var e,o,t,r,i;M.stop(),M.cursortimeout&&clearTimeout(M.cursortimeout);for(e in M.delaylist)M.delaylist[e]&&b(M.delaylist[e].h);for(M.doZoomOut(),M.unbindAll(),x.isie9&&M.win[0].detachEvent("onpropertychange",M.onAttributeChange),!1!==M.observer&&M.observer.disconnect(),!1!==M.observerremover&&M.observerremover.disconnect(),!1!==M.observerbody&&M.observerbody.disconnect(),M.events=null,M.cursor&&M.cursor.remove(),M.cursorh&&M.cursorh.remove(),M.rail&&M.rail.remove(),M.railh&&M.railh.remove(),M.zoom&&M.zoom.remove(),o=0;o<M.saved.css.length;o++)t=M.saved.css[o],t[0].css(t[1],void 0===t[2]?"":t[2]);M.saved=!1,M.me.data("__nicescroll",""),r=$.nicescroll,r.each(function(e){if(this&&this.id===M.id){delete r[e];for(var o=++e;o<r.length;o++,e++)r[e]=r[o];r.length--,r.length&&delete r[r.length]}});for(i in M)M[i]=null,delete M[i];M=null},this.scrollstart=function(e){return this.onscrollstart=e,M},this.scrollend=function(e){return this.onscrollend=e,M},this.scrollcancel=function(e){return this.onscrollcancel=e,M},this.zoomin=function(e){return this.onzoomin=e,M},this.zoomout=function(e){return this.onzoomout=e,M},this.isScrollable=function(e){var o,t,r=e.target?e.target:e;if("OPTION"==r.nodeName)return!0;for(;r&&1==r.nodeType&&r!==this.me[0]&&!/^BODY|HTML/.test(r.nodeName);){if(o=$(r),t=o.css("overflowY")||o.css("overflowX")||o.css("overflow")||"",/scroll|auto/.test(t))return r.clientHeight!=r.scrollHeight;r=!!r.parentNode&&r.parentNode}return!1},this.getViewport=function(e){for(var o,t,r=!(!e||!e.parentNode)&&e.parentNode;r&&1==r.nodeType&&!/^BODY|HTML/.test(r.nodeName);){if(o=$(r),/fixed|absolute/.test(o.css("position")))return o;if(t=o.css("overflowY")||o.css("overflowX")||o.css("overflow")||"",/scroll|auto/.test(t)&&r.clientHeight!=r.scrollHeight)return o;if(o.getNiceScroll().length>0)return o;r=!!r.parentNode&&r.parentNode}return!1},this.triggerScrollEnd=function(){var e,o,t;M.onscrollend&&(e=M.getScrollLeft(),o=M.getScrollTop(),t={type:"scrollend",current:{x:e,y:o},end:{x:e,y:o}},M.onscrollend.call(M,t))},this.onmousewheel=function(e){var o,t,r;if(!M.wheelprevented)return M.railslocked?(M.debounced("checkunlock",M.resize,250),!0):M.rail.drag?M.cancelEvent(e):("auto"==M.opt.oneaxismousemode&&0!=e.deltaX&&(M.opt.oneaxismousemode=!1),M.opt.oneaxismousemode&&0==e.deltaX&&!M.rail.scrollable?!M.railh||!M.railh.scrollable||M.onmousewheelhr(e):(o=+new Date,t=!1,M.opt.preservenativescrolling&&M.checkarea+600<o&&(M.nativescrollingarea=M.isScrollable(e),t=!0),M.checkarea=o,!!M.nativescrollingarea||(r=d(e,!1,t),r&&(M.checkarea=0),r)))},this.onmousewheelhr=function(e){var o,t;if(!M.wheelprevented)return!(!M.railslocked&&M.railh.scrollable)||(M.rail.drag?M.cancelEvent(e):(o=+new Date,t=!1,M.opt.preservenativescrolling&&M.checkarea+600<o&&(M.nativescrollingarea=M.isScrollable(e),t=!0),M.checkarea=o,!!M.nativescrollingarea||(M.railslocked?M.cancelEvent(e):d(e,!0,t))))},this.stop=function(){return M.cancelScroll(),M.scrollmon&&M.scrollmon.stop(),M.cursorfreezed=!1,M.scroll.y=Math.round(M.getScrollTop()*(1/M.scrollratio.y)),M.noticeCursor(),M},this.getTransitionSpeed=function(e){var o=Math.round(10*M.opt.scrollspeed),t=Math.min(o,Math.round(e/20*M.opt.scrollspeed));return t>20?t:0},M.opt.smoothscroll?M.ishwscroll&&x.hastransition&&M.opt.usetransition&&M.opt.smoothscroll?(this.prepareTransition=function(e,o){var t=o?e>20?e:0:M.getTransitionSpeed(e),r=t?x.prefixstyle+"transform "+t+"ms ease-out":"";return M.lasttransitionstyle&&M.lasttransitionstyle==r||(M.lasttransitionstyle=r,M.doc.css(x.transitionstyle,r)),t},this.doScrollLeft=function(e,o){var t=M.scrollrunning?M.newscrolly:M.getScrollTop();M.doScrollPos(e,t,o)},this.doScrollTop=function(e,o){var t=M.scrollrunning?M.newscrollx:M.getScrollLeft();M.doScrollPos(t,e,o)},this.doScrollPos=function(e,o,t){var r=M.getScrollTop(),i=M.getScrollLeft();return((M.newscrolly-r)*(o-r)<0||(M.newscrollx-i)*(e-i)<0)&&M.cancelScroll(),0==M.opt.bouncescroll&&(o<0?o=0:o>M.page.maxh&&(o=M.page.maxh),e<0?e=0:e>M.page.maxw&&(e=M.page.maxw)),(!M.scrollrunning||e!=M.newscrollx||o!=M.newscrolly)&&(M.newscrolly=o,M.newscrollx=e,M.newscrollspeed=t||!1,!M.timer&&void(M.timer=setTimeout(function(){var t,r,i,n,s,l=M.getScrollTop(),a=M.getScrollLeft(),c={};c.x=e-a,c.y=o-l,c.px=a,c.py=l,t=Math.round(Math.sqrt(Math.pow(c.x,2)+Math.pow(c.y,2))),r=M.newscrollspeed&&M.newscrollspeed>1?M.newscrollspeed:M.getTransitionSpeed(t),M.newscrollspeed&&M.newscrollspeed<=1&&(r*=M.newscrollspeed),M.prepareTransition(r,!0),M.timerscroll&&M.timerscroll.tm&&clearInterval(M.timerscroll.tm),r>0&&(!M.scrollrunning&&M.onscrollstart&&(i={type:"scrollstart",current:{x:a,y:l},request:{x:e,y:o},end:{x:M.newscrollx,y:M.newscrolly},speed:r},M.onscrollstart.call(M,i)),x.transitionend?M.scrollendtrapped||(M.scrollendtrapped=!0,M.bind(M.doc,x.transitionend,M.onScrollTransitionEnd,!1)):(M.scrollendtrapped&&clearTimeout(M.scrollendtrapped),M.scrollendtrapped=setTimeout(M.onScrollTransitionEnd,r)),n=l,s=a,M.timerscroll={bz:new z(n,M.newscrolly,r,0,0,.58,1),bh:new z(s,M.newscrollx,r,0,0,.58,1)},M.cursorfreezed||(M.timerscroll.tm=setInterval(function(){M.showCursor(M.getScrollTop(),M.getScrollLeft())},60))),M.synched("doScroll-set",function(){M.timer=0,M.scrollendtrapped&&(M.scrollrunning=!0),M.setScrollTop(M.newscrolly),M.setScrollLeft(M.newscrollx),M.scrollendtrapped||M.onScrollTransitionEnd()})},50)))},this.cancelScroll=function(){var e,o;return!M.scrollendtrapped||(e=M.getScrollTop(),o=M.getScrollLeft(),M.scrollrunning=!1,x.transitionend||clearTimeout(x.transitionend),M.scrollendtrapped=!1,M._unbind(M.doc[0],x.transitionend,M.onScrollTransitionEnd),M.prepareTransition(0),M.setScrollTop(e),M.railh&&M.setScrollLeft(o),M.timerscroll&&M.timerscroll.tm&&clearInterval(M.timerscroll.tm),M.timerscroll=!1,M.cursorfreezed=!1,M.showCursor(e,o),M)},this.onScrollTransitionEnd=function(){var e,o;if(M.scrollendtrapped&&M._unbind(M.doc[0],x.transitionend,M.onScrollTransitionEnd),M.scrollendtrapped=!1,M.prepareTransition(0),M.timerscroll&&M.timerscroll.tm&&clearInterval(M.timerscroll.tm),M.timerscroll=!1,e=M.getScrollTop(),o=M.getScrollLeft(),M.setScrollTop(e),M.railh&&M.setScrollLeft(o),M.noticeCursor(!1,e,o),M.cursorfreezed=!1,e<0?e=0:e>M.page.maxh&&(e=M.page.maxh),o<0?o=0:o>M.page.maxw&&(o=M.page.maxw),e!=M.newscrolly||o!=M.newscrollx)return M.doScrollPos(o,e,M.opt.snapbackspeed);M.onscrollend&&M.scrollrunning&&M.triggerScrollEnd(),M.scrollrunning=!1}):(this.doScrollLeft=function(e,o){var t=M.scrollrunning?M.newscrolly:M.getScrollTop();M.doScrollPos(e,t,o)},this.doScrollTop=function(e,o){var t=M.scrollrunning?M.newscrollx:M.getScrollLeft();M.doScrollPos(t,e,o)},this.doScrollPos=function(e,o,t){function r(){var e,o,t,i,n,s;return!!M.cancelAnimationFrame||(M.scrollrunning=!0,(d=1-d)?M.timer=v(r)||1:(e=0,i=t=M.getScrollTop(),M.dst.ay?(i=M.bzscroll?M.dst.py+M.bzscroll.getNow()*M.dst.ay:M.newscrolly,n=i-t,(n<0&&i<M.newscrolly||n>0&&i>M.newscrolly)&&(i=M.newscrolly),M.setScrollTop(i),i==M.newscrolly&&(e=1)):e=1,s=o=M.getScrollLeft(),M.dst.ax?(s=M.bzscroll?M.dst.px+M.bzscroll.getNow()*M.dst.ax:M.newscrollx,n=s-o,(n<0&&s<M.newscrollx||n>0&&s>M.newscrollx)&&(s=M.newscrollx),M.setScrollLeft(s),s==M.newscrollx&&(e+=1)):e+=1,void(2==e?(M.timer=0,M.cursorfreezed=!1,M.bzscroll=!1,M.scrollrunning=!1,i<0?i=0:i>M.page.maxh&&(i=Math.max(0,M.page.maxh)),s<0?s=0:s>M.page.maxw&&(s=M.page.maxw),s!=M.newscrollx||i!=M.newscrolly?M.doScrollPos(s,i):M.onscrollend&&M.triggerScrollEnd()):M.timer=v(r)||1)))}var i,n,s,l,a,c,d,u;if(o=void 0===o||!1===o?M.getScrollTop(!0):o,M.timer&&M.newscrolly==o&&M.newscrollx==e)return!0;M.timer&&b(M.timer),M.timer=0,i=M.getScrollTop(),n=M.getScrollLeft(),((M.newscrolly-i)*(o-i)<0||(M.newscrollx-n)*(e-n)<0)&&M.cancelScroll(),M.newscrolly=o,M.newscrollx=e,M.bouncescroll&&M.rail.visibility||(M.newscrolly<0?M.newscrolly=0:M.newscrolly>M.page.maxh&&(M.newscrolly=M.page.maxh)),M.bouncescroll&&M.railh.visibility||(M.newscrollx<0?M.newscrollx=0:M.newscrollx>M.page.maxw&&(M.newscrollx=M.page.maxw)),M.dst={},M.dst.x=e-n,M.dst.y=o-i,M.dst.px=n,M.dst.py=i,s=Math.round(Math.sqrt(Math.pow(M.dst.x,2)+Math.pow(M.dst.y,2))),M.dst.ax=M.dst.x/s,M.dst.ay=M.dst.y/s,l=0,a=s,0==M.dst.x?(l=i,a=o,M.dst.ay=1,M.dst.py=0):0==M.dst.y&&(l=n,a=e,M.dst.ax=1,M.dst.px=0),c=M.getTransitionSpeed(s),t&&t<=1&&(c*=t),M.bzscroll=c>0&&(M.bzscroll?M.bzscroll.update(a,c):new z(l,a,c,0,1,0,1)),M.timer||((i==M.page.maxh&&o>=M.page.maxh||n==M.page.maxw&&e>=M.page.maxw)&&M.checkContentSize(),d=1,M.cancelAnimationFrame=!1,M.timer=1,M.onscrollstart&&!M.scrollrunning&&(u={type:"scrollstart",current:{x:n,y:i},request:{x:e,y:o},end:{x:M.newscrollx,y:M.newscrolly},speed:c},M.onscrollstart.call(M,u)),r(),(i==M.page.maxh&&o>=i||n==M.page.maxw&&e>=n)&&M.checkContentSize(),M.noticeCursor())},this.cancelScroll=function(){return M.timer&&b(M.timer),M.timer=0,M.bzscroll=!1,M.scrollrunning=!1,M}):(this.doScrollLeft=function(e,o){var t=M.getScrollTop();M.doScrollPos(e,t,o)},this.doScrollTop=function(e,o){var t=M.getScrollLeft();M.doScrollPos(t,e,o)},this.doScrollPos=function(e,o,t){var r,i=e>M.page.maxw?M.page.maxw:e;i<0&&(i=0),r=o>M.page.maxh?M.page.maxh:o,r<0&&(r=0),M.synched("scroll",function(){M.setScrollTop(r),M.setScrollLeft(i)})},this.cancelScroll=function(){}),this.doScrollBy=function(e,o){var t,r,i,n=0;return o?n=Math.floor((M.scroll.y-e)*M.scrollratio.y):(t=M.timer?M.newscrolly:M.getScrollTop(!0),n=t-e),M.bouncescroll&&(r=Math.round(M.view.h/2),n<-r?n=-r:n>M.page.maxh+r&&(n=M.page.maxh+r)),M.cursorfreezed=!1,i=M.getScrollTop(!0),n<0&&i<=0?M.noticeCursor():n>M.page.maxh&&i>=M.page.maxh?(M.checkContentSize(),M.noticeCursor()):void M.doScrollTop(n)},this.doScrollLeftBy=function(e,o){var t,r,i,n=0;return o?n=Math.floor((M.scroll.x-e)*M.scrollratio.x):(t=M.timer?M.newscrollx:M.getScrollLeft(!0),n=t-e),M.bouncescroll&&(r=Math.round(M.view.w/2),n<-r?n=-r:n>M.page.maxw+r&&(n=M.page.maxw+r)),M.cursorfreezed=!1,i=M.getScrollLeft(!0),n<0&&i<=0?M.noticeCursor():n>M.page.maxw&&i>=M.page.maxw?M.noticeCursor():void M.doScrollLeft(n)},this.doScrollTo=function(e,o){var t=o?Math.round(e*M.scrollratio.y):e;t<0?t=0:t>M.page.maxh&&(t=M.page.maxh),M.cursorfreezed=!1,M.doScrollTop(e)},this.checkContentSize=function(){var e=M.getContentSize();e.h==M.page.h&&e.w==M.page.w||M.resize(!1,e)},M.onscroll=function(e){M.rail.drag||M.cursorfreezed||M.synched("scroll",function(){M.scroll.y=Math.round(M.getScrollTop()*(1/M.scrollratio.y)),M.railh&&(M.scroll.x=Math.round(M.getScrollLeft()*(1/M.scrollratio.x))),M.noticeCursor()})},M.bind(M.docscroll,"scroll",M.onscroll),this.doZoomIn=function(e){var o,t,r,i,n;if(!M.zoomactive){M.zoomactive=!0,M.zoomrestore={style:{}},o=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],t=M.win[0].style;for(r in o)i=o[r],M.zoomrestore.style[i]=void 0!==t[i]?t[i]:"";return M.zoomrestore.style.width=M.win.css("width"),M.zoomrestore.style.height=M.win.css("height"),M.zoomrestore.padding={w:M.win.outerWidth()-M.win.width(),h:M.win.outerHeight()-M.win.height()},x.isios4&&(M.zoomrestore.scrollTop=$(window).scrollTop(),$(window).scrollTop(0)),M.win.css({position:x.isios4?"absolute":"fixed",top:0,left:0,zIndex:f+100,margin:0}),n=M.win.css("backgroundColor"),(""==n||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(n))&&M.win.css("backgroundColor","#fff"),M.rail.css({zIndex:f+101}),M.zoom.css({zIndex:f+102}),M.zoom.css("backgroundPosition","0px -18px"),M.resizeZoom(),M.onzoomin&&M.onzoomin.call(M),M.cancelEvent(e)}},this.doZoomOut=function(e){if(M.zoomactive)return M.zoomactive=!1,M.win.css("margin",""),M.win.css(M.zoomrestore.style),x.isios4&&$(window).scrollTop(M.zoomrestore.scrollTop),M.rail.css({"z-index":M.zindex}),M.zoom.css({"z-index":M.zindex}),M.zoomrestore=!1,M.zoom.css("backgroundPosition","0px 0px"),M.onResize(),M.onzoomout&&M.onzoomout.call(M),M.cancelEvent(e)},this.doZoom=function(e){return M.zoomactive?M.doZoomOut(e):M.doZoomIn(e)},this.resizeZoom=function(){if(M.zoomactive){var e=M.getScrollTop();M.win.css({width:$(window).width()-M.zoomrestore.padding.w+"px",height:$(window).height()-M.zoomrestore.padding.h+"px"}),M.onResize(),M.setScrollTop(Math.min(M.page.maxh,e))}},this.init(),$.nicescroll.push(this)},a=function(e){var o=this;this.nc=e,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.time=function(){return+new Date},this.reset=function(e,t){o.stop();var r=o.time();o.steptime=0,o.lasttime=r,o.speedx=0,o.speedy=0,o.lastx=e,o.lasty=t,o.lastscrollx=-1,o.lastscrolly=-1},this.update=function(e,t){var r,i,n,s,l,a,c=o.time();o.steptime=c-o.lasttime,o.lasttime=c,r=t-o.lasty,i=e-o.lastx,n=o.nc.getScrollTop(),s=o.nc.getScrollLeft(),l=n+r,a=s+i,o.snapx=a<0||a>o.nc.page.maxw,o.snapy=l<0||l>o.nc.page.maxh,o.speedx=i,o.speedy=r,o.lastx=e,o.lasty=t},this.stop=function(){o.nc.unsynched("domomentum2d"),o.timer&&clearTimeout(o.timer),o.timer=0,o.lastscrollx=-1,o.lastscrolly=-1},this.doSnapy=function(e,t){var r=!1;t<0?(t=0,r=!0):t>o.nc.page.maxh&&(t=o.nc.page.maxh,r=!0),e<0?(e=0,r=!0):e>o.nc.page.maxw&&(e=o.nc.page.maxw,r=!0),r?o.nc.doScrollPos(e,t,o.nc.opt.snapbackspeed):o.nc.triggerScrollEnd()},this.doMomentum=function(e){var t,r,i,n,s,l,a,c,d=o.time(),u=e?d+e:o.lasttime,h=o.nc.getScrollLeft(),p=o.nc.getScrollTop(),m=o.nc.page.maxh,g=o.nc.page.maxw;o.speedx=g>0?Math.min(60,o.speedx):0,o.speedy=m>0?Math.min(60,o.speedy):0,t=u&&d-u<=60,(p<0||p>m||h<0||h>g)&&(t=!1),r=!(!o.speedy||!t)&&o.speedy,i=!(!o.speedx||!t)&&o.speedx,r||i?(n=Math.max(16,o.steptime),n>50&&(s=n/50,o.speedx*=s,o.speedy*=s,n=50),o.demulxy=0,o.lastscrollx=o.nc.getScrollLeft(),o.chkx=o.lastscrollx,o.lastscrolly=o.nc.getScrollTop(),o.chky=o.lastscrolly,l=o.lastscrollx,a=o.lastscrolly,(c=function(){var e=o.time()-d>600?.04:.02;o.speedx&&(l=Math.floor(o.lastscrollx-o.speedx*(1-o.demulxy)),o.lastscrollx=l,(l<0||l>g)&&(e=.1)),o.speedy&&(a=Math.floor(o.lastscrolly-o.speedy*(1-o.demulxy)),o.lastscrolly=a,(a<0||a>m)&&(e=.1)),o.demulxy=Math.min(1,o.demulxy+e),o.nc.synched("domomentum2d",function(){o.speedx&&(o.nc.getScrollLeft(),o.chkx=l,o.nc.setScrollLeft(l)),o.speedy&&(o.nc.getScrollTop(),o.chky=a,o.nc.setScrollTop(a)),o.timer||(o.nc.hideCursor(),o.doSnapy(l,a))}),o.demulxy<1?o.timer=setTimeout(c,n):(o.stop(),o.nc.hideCursor(),o.doSnapy(l,a))})()):o.doSnapy(o.nc.getScrollLeft(),o.nc.getScrollTop())}},c=e.fn.scrollTop,e.cssHooks.pageYOffset={get:function(e,o,t){var r=$.data(e,"__nicescroll")||!1;return r&&r.ishwscroll?r.getScrollTop():c.call(e)},set:function(e,o){var t=$.data(e,"__nicescroll")||!1;return t&&t.ishwscroll?t.setScrollTop(parseInt(o)):c.call(e,o),this}},e.fn.scrollTop=function(e){if(void 0===e){var o=!!this[0]&&($.data(this[0],"__nicescroll")||!1);return o&&o.ishwscroll?o.getScrollTop():c.call(this)}return this.each(function(){var o=$.data(this,"__nicescroll")||!1;o&&o.ishwscroll?o.setScrollTop(parseInt(e)):c.call($(this),e)})},d=e.fn.scrollLeft,$.cssHooks.pageXOffset={get:function(e,o,t){var r=$.data(e,"__nicescroll")||!1;return r&&r.ishwscroll?r.getScrollLeft():d.call(e)},set:function(e,o){var t=$.data(e,"__nicescroll")||!1;return t&&t.ishwscroll?t.setScrollLeft(parseInt(o)):d.call(e,o),this}},e.fn.scrollLeft=function(e){if(void 0===e){var o=!!this[0]&&($.data(this[0],"__nicescroll")||!1);return o&&o.ishwscroll?o.getScrollLeft():d.call(this)}return this.each(function(){var o=$.data(this,"__nicescroll")||!1;o&&o.ishwscroll?o.setScrollLeft(parseInt(e)):d.call($(this),e)})},u=function(e){var o,t,r=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){return $.each(r,e),r},this.push=function(e){r[r.length]=e,r.length++},this.eq=function(e){return r[e]},e)for(o=0;o<e.length;o++)(t=$.data(e[o],"__nicescroll")||!1)&&(this[this.length]=t,this.length++);return this},function(e,o,t){for(var r=0;r<o.length;r++)t(e,o[r])}(u.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(e,o){e[o]=function(){var e=arguments;return this.each(function(){this[o].apply(this,e)})}}),e.fn.getNiceScroll=function(e){return void 0===e?new u(this):this[e]&&$.data(this[e],"__nicescroll")||!1},e.expr[":"].nicescroll=function(e){return void 0!==$.data(e,"__nicescroll")},$.fn.niceScroll=function(e,o){var t,r;return void 0!==o||"object"!=typeof e||"jquery"in e||(o=e,e=!1),o=$.extend({},o),t=new u,void 0===o&&(o={}),e&&(o.doc=$(e),o.win=$(this)),r=!("doc"in o),r||"win"in o||(o.win=$(this)),this.each(function(){var e=$(this).data("__nicescroll")||!1;e||(o.doc=r?$(this):o.doc,e=new l(o,$(this)),$(this).data("__nicescroll",e)),t.push(e)}),1==t.length?t[0]:t},window.NiceScroll={getjQuery:function(){return e}},$.nicescroll||($.nicescroll=new u,$.nicescroll.options=i)});